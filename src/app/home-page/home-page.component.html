<div class="general-container">
  <div class="user-container">
    <div class="button-container-left">
      <button md-fab (click)="showMenu=!showMenu" color='primary'>
        <md-icon>menu</md-icon>
      </button>
      <div class="float-menu-container" *ngIf="showMenu">
        <menu-options></menu-options>
      </div>
    </div>
    <div class="button-container-center">
      <button md-fab (click)="openDialogForm()" color='primary'>
        <md-icon>create</md-icon>
      </button>
    </div>
    <div class="user-div" (click)="toggleUserFlip()" [@flipUserState]="flipUser">
      <div class="user-flip user-front">
        <img src="{{user_photoURL}}">
      </div>
      <div class="user-flip user-back">
        <button md-fab (click)="logout()" color='primary'>
          <md-icon>power_settings_new</md-icon>
        </button>
      </div>
    </div>
  </div>
  <div class="movies-container">
    <div #myMovie *ngFor="let firebaseMovie of firebaseMovies | async; let i = index" (click)="toggleFlip(i)" [@flipState]="flip[i]" class="movie-div">
      <div class="movie-flip movie-front">
        <img src="{{firebaseMovie.posterUrl}}">
      </div>
      <div class="movie-flip movie-back">
        <div class="buttons-container-top">
          <button class="edit-button" md-fab (click)="editMovie(movie)" color='primary'>
            <md-icon>movie_filter</md-icon>
          </button>
        </div>
        <div class="words-container">
          <div class="back-title">
            {{ firebaseMovie.title }}
          </div>
          <div class="back-mark">
            {{ firebaseMovie.mark }}
          </div>
        </div>
        <div class="buttons-container-bottom">
          <button class="delete-button" md-fab (click)="deleteMovie(movie)" color="warn">
            <md-icon>delete</md-icon>
          </button>
        </div>
      </div>
    </div>
    <div
      infiniteScroll
      [infiniteScrollDistance]="2"
      [infiniteScrollThrottle]="1000"
      (scrolled)="onScroll()">
    </div>
    <!--<div *ngIf="!finished">
    Loading more movies...
    </div>
    <div *ngIf="finished">
      End of database... That's all folks!
    </div>
    <h1>Movies</h1>
    <div *ngFor="let firebaseMovie of firebaseMovies | async">
        <h2>{{ firebaseMovie?.title }}</h2>
        <img [src]="firebaseMovie?.posterUrl" width="120px">
    </div>
    <div
      infiniteScroll
      [infiniteScrollDistance]="2"
      [infiniteScrollThrottle]="1000"
      (scrolled)="onScroll()">
    </div>
    <div *ngIf="!finished">
    Loading more movies...
    </div>
    <div *ngIf="finished">
      End of database... That's all folks!
    </div>-->
  </div>
</div>